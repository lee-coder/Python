# -*- coding: gbk -*-'''Button1: %B2%E9%D1%AFcode: 000001enddate: 2017-03-21startdate: 2017-01-21请求URL: http://info.chinafund.cn/fund/000001/jjjz/请求方法POST请求Cookiesafedog-flow-item: 310AD2C54390EFD7FC813732EBBC780F'''import sys,osimport urllib.parse,urllib.request,http.cookiejarfrom datatime import *fund_url = "http://info.chinafund.cn/fund/000001/jjjz/"cookie = http.cookiejar.CookieJar()handeler =urllib.request.HTTPCookieProcessor(cookie)opener = urllib.request.build_opener(handeler)opener.addheaders = [('User-agent', 'Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.6) Gecko/20091201 Firefox/3.5.6')postdata = urllib.parse.urlencode({'enddate':2017-03-21, 'startdate':2017-01-21, 'code':000001, 'Button1':"%B2%E9%D1%AF"})  binary_data = postdata.encode('utf-8') res = urllib.request.urlopen(fund_url,binary_data)  #print(res.status, res.reason)  if( res.status == '200' ):      exit()  print (datetime.now(), "Login Successfully!")""" export JIRA issue to disk """urllib.request.urlretrieve(jira_dl_url,jira_dl_File)print (datetime.now(), "Download Finished!")
